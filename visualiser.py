import base64
eval(compile(base64.b64decode(b'IiIiClRoaXMgbW9kdWxlIGltcGxlbWVudHMgYmF0Y2ggYW5kIGdyYXBoaWNhbCB2aXN1YWxpc2VycyBmb3IgdGhlIHNpbXVsYXRpb24uCiIiIgoKaW1wb3J0IGVudGl0aWVzCmltcG9ydCB0eXBpbmcKaW1wb3J0IHRpbWUKCmNsYXNzIEJhdGNoOgogICIiIgogIFRoaXMgY2xhc3MgaW5jcmVtZW50YWxseSBwcmludHMgYSBwcm9ncmVzcyBiYXIgdG8gc2hvdyB0aGUgcHJvcG9ydGlvbiBvZiAKICBzaW11bGF0aW9uIHN0ZXBzIGNvbXBsZXRlZCAoYnV0IG5vdGhpbmcgbW9yZSkuIAoKICBUaGUgY29uc3RydWN0b3IgdGFrZXMgdGhlIHRvdGFsIG51bWJlciBvZiBzdGVwcyBhbmQsIG9wdGlvbmFsbHksIHRoZSB3aWR0aCBvZgogIHRoZSBwcm9ncmVzcyBiYXIgaW4gY2hhcmFjdGVycyAobWluaW11bSBpcyAzMCwgZGVmYXVsdCBpcyA2MCkuCgogIHZpcyA9IEJhdGNoUHJvZ3Jlc3MoIHRvdGFsX3N0ZXBzLCB0ZXh0X3dpZHRoID0gODApCiAgdmlzLnN0YXJ0KCkKICBmb3Igc3RlcCBpbiByYW5nZSggdG90YWxfc3RlcHMgKToKICAgIHZpcy51cGRhdGUoIHN0ZXAsIDEgKQogIHZpcy5zdG9wKCkKICAiIiIKCiAgX19zbG90c19fID0gWwogICAgIl90b3RhbF9zdGVwcyIsCiAgICAiX3RleHRfd2lkdGgiLAogICAgIl9maWxsZWQiCiAgXQoKICBkZWYgX19pbml0X18oc2VsZiwgdG90YWxfc3RlcHMgOiBpbnQsIHRleHRfd2lkdGggOiBpbnQgPSA2MCk6CiAgICBzZWxmLl90b3RhbF9zdGVwcyA9IHRvdGFsX3N0ZXBzCiAgICBzZWxmLl90ZXh0X3dpZHRoID0gbWF4KDMwLCB0ZXh0X3dpZHRoKQogICAgc2VsZi5fZmlsbGVkID0gMAogIAogIGRlZiBzdGFydChzZWxmKToKICAgICIiIgogICAgQmVnaW5zIGRpc3BsYXlpbmcgdGhlIHByb2dyZXNzIGluZGljYXRvci4KICAgICIiIgogICAgc2VsZi5fZmlsbGVkID0gMAogICAgcHJpbnQoJyBbJyArICdzaW11bGF0aW9uIHByb2dyZXNzJy5jZW50ZXIoc2VsZi5fdGV4dF93aWR0aCAtIDgpICsgJ10gICAgICcpCiAgICBwcmludCgnIFsnLCBlbmQ9JycsIGZsdXNoPVRydWUpCiAgICAKICBkZWYgdXBkYXRlKHNlbGYsIHN0ZXAgOiBpbnQpOgogICAgIiIiCiAgICBVcGRhdGVzIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3IgdG8gcmVmbGVjdCB0aGUgYW1vdW50IG9mIGNvbXBsZXRlZCBzdGVwcwogICAgKGV4cGVjdGVkIHRvIGdyb3cgbW9ub3RvbmljYWxseSkuCiAgICAiIiIKICAgIHggPSBpbnQocm91bmQoKHNlbGYuX3RleHRfd2lkdGggLSA4KSAqIHN0ZXAgLyBzZWxmLl90b3RhbF9zdGVwcykpCiAgICBpZiB4IC0gc2VsZi5fZmlsbGVkID4gMDoKICAgICAgcHJpbnQoJy0nICogKHggLSBzZWxmLl9maWxsZWQpLCBlbmQ9JycsIGZsdXNoPVRydWUpCiAgICAgIHNlbGYuX2ZpbGxlZCA9IHgKCiAgZGVmIHN0b3Aoc2VsZik6CiAgICAiIiIKICAgIENvbXBsZXRlcyB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yLgogICAgIiIiCiAgICBzZWxmLnVwZGF0ZShzZWxmLl90b3RhbF9zdGVwcykKICAgIHByaW50KCddIGRvbmUnLGZsdXNoPVRydWUpCgoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBtYXRwbG90bGliIGFzIG1wbAppbXBvcnQgbWF0cGxvdGxpYi5weXBsb3QgYXMgcGx0CgpjbGFzcyBHcmF5c2NhbGVHcmFwaGljcyhCYXRjaCk6CiAgIiIiCiAgQmVzaWRlcyBvZmZlcmluZyB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5IG9mIEJhdGNoLCB0aGlzIGNsYXNzIHZpc3VhbGlzZXMKICB0aGUgc2ltdWxhdGVkIHdvcmxkIHVzaW5nIGNvbG91cnMgdG8gcmVwcmVzZW50IGFuaW1hbHMgYW5kIGdyYXNzIGxldmVsLgogIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdG90YWwgbnVtYmVyIG9mIHN0ZXBzLCB0aGUgbGlzdCBvZiBwYXRjaGVzCiAgaW4gdGhlIHNpbXVsYXRpb24gKGEgMUQgbGlzdCksIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBncmlkIG9mIHBhdGNoZXMuCiAgVGhlIGNvbnN0cnVjdG9yIGhhcyBhbHNvIHRocmVlIG9wdGlvbmFsIGFyZ3VtZW50czogdGhlIGZpcnN0IGlzIGEgdGltZSBkZWxheSAKICBpbiBzZWNvbmRzIGFkZGVkIHRvIGVhY2ggY2FsbCB0byB0aGUgdXBkYXRlIG1ldGhvZCAobWluaW11bSBpcyAwLjA1cywgZGVmYXVsdCAKICBpcyAwLjFzKSwgdGhlIHNlY29uZCBpcyBhIGJvb2xlYW4gZmxhZyBzcGVjaWZ5aW5nIHdoZXRoZXIgdG8gcmVuZGVyIHRoZSAKICBhbW91bnQgb2YgZ3Jhc3MgaW4gZWFjaCBwYXRjaCwgdGhlIGxhc3Qgb25lIGlzIHRoZSBzYW1lIG9wdGlvbmFsIGFyZ3VtZW50IG9mIAogIEJhdGNoLgoKICBDb2xvdXJHcmFwaGljKHRvdGFsX3N0ZXBzLCBwYXRjaGVzLCB3aWR0aCwgaGVpZ2h0LCBkZWxheSA9IDAuMSwgZ3Jhc3NfbGV2ZWxzID0gRmFsc2UsIHRleHRfd2lkdGggPSA2MCkKICAiIiIKCiAgX19zbG90c19fID0gWwogICAgIl93aWR0aCIsCiAgICAiX2hlaWdodCIsCiAgICAiX3BsdF9ncmlkIiwKICAgICJfcGF0Y2hlcyIsCiAgICAiX2dyYXNzIiwKICAgICJfZmlnIiwKICAgICJfd2F4IiwKICAgICJfd2ltIiwKICAgICJfZGVsYXkiCiAgXQoKICBkZWYgX19pbml0X18oc2VsZiwgdG90YWxfc3RlcHMgOiBpbnQsIAogICAgICAgICAgICAgICBwYXRjaGVzIDogdHlwaW5nLkxpc3RbZW50aXRpZXMuUGF0Y2hdLAogICAgICAgICAgICAgICB3aWR0aCA6IGludCwgaGVpZ2h0IDogaW50LAogICAgICAgICAgICAgICBkZWxheSA6IGZsb2F0ID0gMC4xLAogICAgICAgICAgICAgICBncmFzc19sZXZlbHMgOiBib29sID0gRmFsc2UsCiAgICAgICAgICAgICAgIHRleHRfd2lkdGggOiBpbnQgPSA2MCk6CiAgICBzdXBlcigpLl9faW5pdF9fKHRvdGFsX3N0ZXBzLCB0ZXh0X3dpZHRoKQoKICAgIHNlbGYuX3dpZHRoID0gd2lkdGgKICAgIHNlbGYuX2hlaWdodCA9IGhlaWdodAogICAgc2VsZi5fcGx0X2dyaWQgPSBucC56ZXJvcygoc2VsZi5faGVpZ2h0LHNlbGYuX3dpZHRoKSkKICAgIHNlbGYuX3BhdGNoZXMgPSBwYXRjaGVzCiAgICBzZWxmLl9ncmFzcyA9IGdyYXNzX2xldmVscwogICAgc2VsZi5fdXBkYXRlX2dyaWQoKQogICAgc2VsZi5fZGVsYXkgPSBtYXgoZGVsYXksMC4wNSkKCiAgZGVmIF91cGRhdGVfZ3JpZChzZWxmKTogICAgCiAgICBncmlkID0gc2VsZi5fcGx0X2dyaWQKICAgIGZvciBwYXRjaCBpbiBzZWxmLl9wYXRjaGVzOgogICAgICB4LHkgPSBwYXRjaC5jb29yZGluYXRlcygpCiAgICAgIGlmIHBhdGNoLl9oYXNfYWxpdmVfZm94KCkgb3IgcGF0Y2guX2hhc19hbGl2ZV9yYWJiaXQoKToKICAgICAgICBncmlkW3kseF0gPSAxLjIKICAgICAgZWxpZiBzZWxmLl9ncmFzczoKICAgICAgICBncmlkW3kseF0gPSAocGF0Y2guZ3Jhc3MoKSAvIGVudGl0aWVzLlBhdGNoLm1heF9ncmFzc19hbW91bnQpICogMC43CiAgICAgIGVsc2U6CiAgICAgICAgZ3JpZFt5LHhdID0gMAoKICBkZWYgc3RhcnQoc2VsZik6CiAgICAiIiIKICAgIEJlZ2lucyBkaXNwbGF5aW5nIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3IgYW5kIG9wZW5zIHRoZSBzaW11bGF0aW9uIHdpbmRvdy4KICAgICIiIgogICAgc3VwZXIoKS5zdGFydCgpCiAgICBmaWcsIHdheCA9IHBsdC5zdWJwbG90cygpCiAgICBmaWcuaXNfb3BlbiA9IFRydWUKICAgIGRlZiBfb25fY2xvc2UoZXZlbnQpOgogICAgICBldmVudC5jYW52YXMuZmlndXJlLmlzX29wZW4gPSBGYWxzZQogICAgZmlnLmNhbnZhcy5tcGxfY29ubmVjdCgnY2xvc2VfZXZlbnQnLCBfb25fY2xvc2UpCiAgICBmaWcuY2FudmFzLm1hbmFnZXIuc2V0X3dpbmRvd190aXRsZSgnRm94ZXMgYW5kIHJhYmJpdHMnKQogICAgc2VsZi5fZmlnID0gZmlnCiAgICB3YXguYXhlcy54YXhpcy5zZXRfdGlja3MocmFuZ2Uoc2VsZi5fd2lkdGgpKQogICAgd2F4LmF4ZXMueWF4aXMuc2V0X3RpY2tzKHJhbmdlKHNlbGYuX2hlaWdodCkpCiAgICAjIHdheC5heGVzLnhheGlzLnNldF90aWNrcyhyYW5nZShzZWxmLl93aWR0aCsxKSkKICAgICMgd2F4LmF4ZXMueWF4aXMuc2V0X3RpY2tzKHJhbmdlKHNlbGYuX2hlaWdodCsxKSkKICAgICMgd2F4LmdyaWQoY29sb3I9J2JsYWNrJywgbGluZXN0eWxlPSctJywgbGluZXdpZHRoPTAuNykKICAgIHNlbGYuX3dheCA9IHdheAogICAgc2VsZi5fd2ltID0gd2F4Lmltc2hvdyhzZWxmLl9wbHRfZ3JpZCwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVycG9sYXRpb249J25lYXJlc3QnLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgY21hcD0nZ3JheV9yJywgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtaW4gPSAwLCB2bWF4PTEuNSkKCiAgZGVmIHVwZGF0ZShzZWxmLCBzdGVwIDogaW50KTogCiAgICAiIiIKICAgIFVwZGF0ZXMgdGhlIHNpbXVsYXRpb24gd2luZG93IGFuZCB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yIChzZWUgQmF0Y2gudXBkYXRlKS4KICAgICIiIgogICAgdHMgPSB0aW1lLnBlcmZfY291bnRlcigpCiAgICBzdXBlcigpLnVwZGF0ZShzdGVwKQogICAgaWYgc2VsZi5fZmlnLmlzX29wZW46CiAgICAgIHNlbGYuX3VwZGF0ZV9ncmlkKCkKICAgICAgc2VsZi5fd2ltLnNldF9kYXRhKHNlbGYuX3BsdF9ncmlkKQogICAgICB3YXggPSBzZWxmLl93YXgKICAgICAgd2F4LnRleHRzLmNsZWFyKCkKICAgICAgZm9yIHBhdGNoIGluIHNlbGYuX3BhdGNoZXM6CiAgICAgICAgeCx5ID0gcGF0Y2guY29vcmRpbmF0ZXMoKQogICAgICAgIGFmID0gcGF0Y2guX2hhc19hbGl2ZV9mb3goKQogICAgICAgIGFyID0gcGF0Y2guX2hhc19hbGl2ZV9yYWJiaXQoKQogICAgICAgIGlmIGFmIGFuZCBhcjoKICAgICAgICAgIHdheC50ZXh0KHgseSwgIkYvUiIsIGhhPSJjZW50ZXIiLCB2YT0iY2VudGVyIiwgY29sb3I9InciKQogICAgICAgIGVsaWYgYWY6CiAgICAgICAgICB3YXgudGV4dCh4LHksICJGIiwgaGE9ImNlbnRlciIsIHZhPSJjZW50ZXIiLCBjb2xvcj0idyIpCiAgICAgICAgZWxpZiBhcjoKICAgICAgICAgIHdheC50ZXh0KHgseSwgIlIiLCBoYT0iY2VudGVyIiwgdmE9ImNlbnRlciIsIGNvbG9yPSJ3IikKICAgICAgcGx0LmRyYXcoKQogICAgICB0ZSA9IHRpbWUucGVyZl9jb3VudGVyKCkKICAgICAgcGF1c2UgPSBtYXgoMC4wNSwgc2VsZi5fZGVsYXkgLSAodGUgLSB0cykpCiAgICAgIHBsdC5wYXVzZShwYXVzZSkKCiAgZGVmIHN0b3Aoc2VsZik6CiAgICAiIiIKICAgIENsb3NlcyB0aGUgc2ltdWxhdGlvbiB3aW5kb3cgYW5kIGNvbXBsZXRlcyB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yLgogICAgIiIiCiAgICBzdXBlcigpLnN0b3AoKQogICAgaWYgc2VsZi5fZmlnLmlzX29wZW46CiAgICAgIHBsdC5jbG9zZShzZWxmLl9maWcpCgpjbGFzcyBDb2xvdXJHcmFwaGljcyhCYXRjaCk6CiAgIiIiCiAgQmVzaWRlcyBvZmZlcmluZyB0aGUgc2FtZSBmdW5jdGlvbmFsaXR5IG9mIEJhdGNoLCB0aGlzIGNsYXNzIHZpc3VhbGlzZXMKICB0aGUgc2ltdWxhdGVkIHdvcmxkIHVzaW5nIGNvbG91cnMgdG8gcmVwcmVzZW50IGFuaW1hbHMgYW5kIGdyYXNzIGxldmVsLgogIFRoZSBjbGFzcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdG90YWwgbnVtYmVyIG9mIHN0ZXBzLCB0aGUgbGlzdCBvZiBwYXRjaGVzCiAgaW4gdGhlIHNpbXVsYXRpb24gKGEgMUQgbGlzdCksIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBncmlkIG9mIHBhdGNoZXMuCiAgVGhlIGNvbnN0cnVjdG9yIGhhcyBhbHNvIHRocmVlIG9wdGlvbmFsIGFyZ3VtZW50czogdGhlIGZpcnN0IGlzIGEgdGltZSBkZWxheSAKICBpbiBzZWNvbmRzIGFkZGVkIHRvIGVhY2ggY2FsbCB0byB0aGUgdXBkYXRlIG1ldGhvZCAobWluaW11bSBpcyAwLjA1cywgZGVmYXVsdCAKICBpcyAwLjFzKSwgdGhlIHNlY29uZCBpcyBhIGJvb2xlYW4gZmxhZyBzcGVjaWZ5aW5nIHdoZXRoZXIgdG8gcmVuZGVyIHRoZSAKICBhbW91bnQgb2YgZ3Jhc3MgaW4gZWFjaCBwYXRjaCwgdGhlIGxhc3Qgb25lIGlzIHRoZSBzYW1lIG9wdGlvbmFsIGFyZ3VtZW50IG9mIAogIEJhdGNoLgoKICBDb2xvdXJHcmFwaGljKHRvdGFsX3N0ZXBzLCBwYXRjaGVzLCB3aWR0aCwgaGVpZ2h0LCBkZWxheSA9IDAuMSwgZ3Jhc3NfbGV2ZWxzID0gRmFsc2UsIHRleHRfd2lkdGggPSA2MCkKICAiIiIKCiAgX19zbG90c19fID0gWwogICAgIl93aWR0aCIsCiAgICAiX2hlaWdodCIsCiAgICAiX3BsdF9ncmlkIiwKICAgICJfcGF0Y2hlcyIsCiAgICAiX2dyYXNzIiwKICAgICJfZmlnIiwKICAgICJfd2F4IiwKICAgICJfd2ltIiwKICAgICJfZGVsYXkiCiAgXQoKICBkZWYgX19pbml0X18oc2VsZiwgdG90YWxfc3RlcHMgOiBpbnQsIAogICAgICAgICAgICAgICBwYXRjaGVzIDogdHlwaW5nLkxpc3RbZW50aXRpZXMuUGF0Y2hdLAogICAgICAgICAgICAgICB3aWR0aCA6IGludCwgaGVpZ2h0IDogaW50LAogICAgICAgICAgICAgICBkZWxheSA6IGZsb2F0ID0gMC4xLAogICAgICAgICAgICAgICBncmFzc19sZXZlbHMgOiBib29sID0gRmFsc2UsCiAgICAgICAgICAgICAgIHRleHRfd2lkdGggOiBpbnQgPSA2MCk6CiAgICBzdXBlcigpLl9faW5pdF9fKHRvdGFsX3N0ZXBzLCB0ZXh0X3dpZHRoKQoKICAgIHNlbGYuX3dpZHRoID0gd2lkdGgKICAgIHNlbGYuX2hlaWdodCA9IGhlaWdodAogICAgc2VsZi5fcGx0X2dyaWQgPSBucC56ZXJvcygoc2VsZi5fd2lkdGggKiAyLCBzZWxmLl9oZWlnaHQgKiAyKSkKICAgIHNlbGYuX3BhdGNoZXMgPSBwYXRjaGVzCiAgICBzZWxmLl9ncmFzcyA9IGdyYXNzX2xldmVscwogICAgc2VsZi5fdXBkYXRlX2dyaWQoKQogICAgc2VsZi5fZGVsYXkgPSBtYXgoZGVsYXksMC4wNSkKCiAgZGVmIF91cGRhdGVfZ3JpZChzZWxmKTogICAgCiAgICBncmlkID0gc2VsZi5fcGx0X2dyaWQKICAgIGZvciBwYXRjaCBpbiBzZWxmLl9wYXRjaGVzOgogICAgICB4LHkgPSBwYXRjaC5jb29yZGluYXRlcygpCiAgICAgIHggKj0gMgogICAgICB5ICo9IDIKICAgICAgYWYgPSBwYXRjaC5faGFzX2FsaXZlX2ZveCgpCiAgICAgIGFyID0gcGF0Y2guX2hhc19hbGl2ZV9yYWJiaXQoKQogICAgICBnciA9IHBhdGNoLmdyYXNzKCkgLyBlbnRpdGllcy5QYXRjaC5tYXhfZ3Jhc3NfYW1vdW50IGlmIHNlbGYuX2dyYXNzIGVsc2UgMAogICAgICBpZiBhZiBhbmQgYXI6CiAgICAgICAgZ3JpZFt4ICAseSAgXSA9IDIgCiAgICAgICAgZ3JpZFt4KzEseSsxXSA9IDIKICAgICAgICBncmlkW3grMSx5ICBdID0gMwogICAgICAgIGdyaWRbeCAgLHkrMV0gPSAzCiAgICAgIGVsaWYgYWY6CiAgICAgICAgZ3JpZFt4ICAseSAgXSA9IDIgCiAgICAgICAgZ3JpZFt4KzEseSsxXSA9IDIKICAgICAgICBncmlkW3grMSx5ICBdID0gMgogICAgICAgIGdyaWRbeCAgLHkrMV0gPSAyCiAgICAgIGVsaWYgYXI6CiAgICAgICAgZ3JpZFt4ICAseSAgXSA9IDMgCiAgICAgICAgZ3JpZFt4KzEseSsxXSA9IDMKICAgICAgICBncmlkW3grMSx5ICBdID0gMwogICAgICAgIGdyaWRbeCAgLHkrMV0gPSAzCiAgICAgIGVsc2U6CiAgICAgICAgZ3JpZFt4ICAseSAgXSA9IGdyIAogICAgICAgIGdyaWRbeCsxLHkrMV0gPSBncgogICAgICAgIGdyaWRbeCsxLHkgIF0gPSBncgogICAgICAgIGdyaWRbeCAgLHkrMV0gPSBncgoKCiAgZGVmIHN0YXJ0KHNlbGYpOgogICAgIiIiCiAgICBCZWdpbnMgZGlzcGxheWluZyB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yIGFuZCBvcGVucyB0aGUgc2ltdWxhdGlvbiB3aW5kb3cuCiAgICAiIiIKICAgIHN1cGVyKCkuc3RhcnQoKQogICAgZmlnLCB3YXggPSBwbHQuc3VicGxvdHMoKQogICAgZmlnLmlzX29wZW4gPSBUcnVlCiAgICBkZWYgX29uX2Nsb3NlKGV2ZW50KToKICAgICAgZXZlbnQuY2FudmFzLmZpZ3VyZS5pc19vcGVuID0gRmFsc2UKICAgIGZpZy5jYW52YXMubXBsX2Nvbm5lY3QoJ2Nsb3NlX2V2ZW50JywgX29uX2Nsb3NlKQogICAgZmlnLmNhbnZhcy5tYW5hZ2VyLnNldF93aW5kb3dfdGl0bGUoJ0ZveGVzIGFuZCByYWJiaXRzJykKICAgIHNlbGYuX2ZpZyA9IGZpZwogICAgd2F4LmF4ZXMueGF4aXMuc2V0X3RpY2tzKHJhbmdlKHNlbGYuX3dpZHRoKSkKICAgIHdheC5heGVzLnlheGlzLnNldF90aWNrcyhyYW5nZShzZWxmLl9oZWlnaHQpKQogICAgd2F4LnNldF9hc3BlY3QoImVxdWFsIikKICAgIHNlbGYuX3dheCA9IHdheAogICAgY21hcCA9IG1wbC5jb2xvcnMuTGlzdGVkQ29sb3JtYXAoWydsaW1lZ3JlZW4nLCdmb3Jlc3RncmVlbicsJ2dyZWVuJywnZGFya2dyZWVuJywgJ2RhcmtvcmFuZ2UnLCAnZGltZ3JleSddKQogICAgYm91bmRzID0gWzAsIDAuMDIsIDAuMywgMC42LCAxLjEsIDIuNSwgMy41XQogICAgbm9ybSA9IG1wbC5jb2xvcnMuQm91bmRhcnlOb3JtKGJvdW5kcywgY21hcC5OKQogICAgc2VsZi5fd2ltID0gd2F4Lmltc2hvdyhzZWxmLl9wbHRfZ3JpZCwgaW50ZXJwb2xhdGlvbj0nbm9uZScsIGNtYXA9Y21hcCwgbm9ybT1ub3JtLCkKCiAgZGVmIHVwZGF0ZShzZWxmLCBzdGVwIDogaW50KTogCiAgICAiIiIKICAgIFVwZGF0ZXMgdGhlIHNpbXVsYXRpb24gd2luZG93IGFuZCB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yIChzZWUgQmF0Y2gudXBkYXRlKS4KICAgICIiIgogICAgdHMgPSB0aW1lLnBlcmZfY291bnRlcigpCiAgICBzdXBlcigpLnVwZGF0ZShzdGVwKQogICAgaWYgc2VsZi5fZmlnLmlzX29wZW46CiAgICAgIHNlbGYuX3VwZGF0ZV9ncmlkKCkKICAgICAgc2VsZi5fd2ltLnNldF9kYXRhKHNlbGYuX3BsdF9ncmlkKQogICAgICBwbHQuZHJhdygpCiAgICAgIHRlID0gdGltZS5wZXJmX2NvdW50ZXIoKQogICAgICBwYXVzZSA9IG1heCgwLjA1LCBzZWxmLl9kZWxheSAtICh0ZSAtIHRzKSkKICAgICAgcGx0LnBhdXNlKHBhdXNlKQoKICBkZWYgc3RvcChzZWxmKToKICAgICIiIgogICAgQ2xvc2VzIHRoZSBzaW11bGF0aW9uIHdpbmRvdyBhbmQgY29tcGxldGVzIHRoZSBwcm9ncmVzcyBpbmRpY2F0b3IuCiAgICAiIiIKICAgIHN1cGVyKCkuc3RvcCgpCiAgICBpZiBzZWxmLl9maWcuaXNfb3BlbjoKICAgICAgcGx0LmNsb3NlKHNlbGYuX2ZpZykK'),'<string>','exec'))